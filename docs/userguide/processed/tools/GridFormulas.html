<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/mcv_guide.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Description of Formulas - Grids</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="/mcidas/doc/mcv_guide/mcidasv.css" charset="ISO-8859-1" type="text/css">
<!-- InstanceBeginEditable name="CurrentFile" -->
<script language="javascript" type="text/javascript">
function setParentPage() { if (parent.setPage) parent.setPage('tools/GridFormulas.html',true); }
</script>
<!-- InstanceEndEditable -->
<style type="text/css">
<!--
.style1 {font-size: large;}
.style2 {font-size: small;}
-->
</style>
</head>
<body onLoad="setParentPage();">
<div class="TopTitleNav">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious" --><a href="MapFormulas.html">Go to Previous</a><!-- InstanceEndEditable -->]
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext" --><a href="MiscellaneousFormulas.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span> </p>
  <hr align="center">
</div>
<!-- InstanceBeginEditable name="MainContent" -->
<div class="pagetitle">Description of Formulas - Grids </div>
<p>The following describes each formula included in the Grids Formulas section
  of McIDAS-V.</p>
<p><strong>Note:</strong> If the formula you select utilizes a Select Input window&nbsp;to enter values to be used by the formula, you can choose if you want to save these values in a bundle if you wish to create one. Each field of the Select Input window has a <strong>Save in Bundle</strong> option&nbsp;(chosen by default). If you keep this option selected, the value(s) you choose will be stored in the bundle, and if all values are saved, the formula will automatically execute when you load in your bundle without any user input. If you do not save the values in your bundle, the values you use will not be saved, and the formula will not automatically execute without requiring the user to enter/change values. Many of the formulas below were provided by Brian Mapes, which are denoted by an asterisk (*) next to the formula's name.</p>
<ul>
  <li><a href="#smooth">3D Scalar Field Horizontal Smoothing</a></li>
  <li><a href="#time">Time Steps</a></li>
  <li><a href="#timeMeanAnomaly">Time Mean and Anomaly</a></li>
  <li><a href="#basic">Basic Math</a></li>
  <li><a href="#ensemble">Ensemble</a></li>
</ul>
<ul class="propertylist">
<li class="propertylistitem"><strong>Change Unit of a parameter  (grid, unit,multiplyfactor)* - </strong>Changes the unit of the field being displayed and optionally scales the output values.
  <table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>unit</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The unit to be used when displaying the data.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>multiplyfactor</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The factor to scale/multiply the data by (default=1.0)</p>
   </td>
   </tr>
</table></li>
 <li class="propertylistitem"><strong>Define a grid diagnostic  (gddiag) - </strong>Defines a grid diagnostic to perform.<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>gddiag </em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Grid diagnostic. For more information, see the Grid Diagnostics section of  <a href="JythonLib.html#griddiag">Jython Library</a>.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Deviation from Lat Lon Area Average  (grid)* - </strong>Computes the deviation from area average values of the grid and returns a grid with deviation from the area averaged value.</li>
<li class="propertylistitem"><strong>Deviation from Lat Lon Time Average  (grid)* - </strong>Computes the deviation from time and spatial mean at each grid point.</li>
<li class="propertylistitem"><strong>Find latitude of grid points  (fieldimpl) - </strong>Obtains the latitude coordinate from the grid at each location and plots the latitude at each point on the map.</li>
<li class="propertylistitem"><strong>Find longitude of grid points (fieldimpl)</strong> - Obtains the longitude coordinate from the grid at each location and plots the longitude at each point on the map.</li>
<li class="propertylistitem"><a name="trajectory" id="trajectory"></a><strong>Create 2D Trajectory (parameter, U Component, V Component)</strong> - Uses the Trajectory Colored By Parameter display type to plot 2-dimensional trajectories from data that includes u- and v-wind components and a scalar quantity to color the trajectories by. For information on how to work with this display, see <a href="../controls/GridTrajectory.html">Grid Trajectory Controls</a>.
<table id="gridformulas2" cellpadding="0" cellspacing="0" border="1">
      <tr>
          <td colspan="1"><strong>Input Parameter</strong></td>
          <td width="630"><strong>Definition
      </strong></tr>
      <tr>
          <td width="140" colspan="1" rowspan="1" valign="top">
              <p><em>parameter</em></p>
          </td>
          <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
              <p>The scalar quantity that the trajectories will be colored by.</p>
          </td>
      </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>U Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>V Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The v-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Create 3D Trajectory (parameter, U Component, V Component, W Component)</strong> - Uses the Trajectory Colored By Parameter display type to plot 3-dimensional trajectories from data that includes u-, v-, and w-wind components. For information on how to work with this display, see <a href="../controls/GridTrajectory.html">Grid Trajectory Controls</a>.
<table id="gridformulas2" cellpadding="0" cellspacing="0" border="1">
      <tr>
          <td colspan="1"><strong>Input Parameter</strong></td>
          <td width="630"><strong>Definition
            </strong></tr>
      <tr>
          <td width="140" colspan="1" rowspan="1" valign="top">
              <p><em>parameter</em></p>
          </td>
          <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
              <p>The scalar quantity that the trajectories will be colored by.</p>
          </td>
      </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>U Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
         <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>V Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The v-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>W Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The vertical component of the data.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Horizontal Advection (from %N1% &amp; %N2%) (scalar parameter, U Component,
  V Component)</strong> - Calculates horizontal advection from U and V components.
  <table id="gridformulas2" cellpadding="0" cellspacing="0" border="1">
      <tr>
          <td colspan="1"><strong>Input Parameter</strong></td>
          <td width="630"><strong>Definition
            </strong></tr>
      <tr>
          <td width="140" colspan="1" rowspan="1" valign="top">
              <p><em>scalar parameter</em></p>
          </td>
          <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
              <p>Scalar Parameter (the parameter that will be mapped).</p>
          </td>
      </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>U Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>V Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The v-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Horizontal Flux Divergence (from %N1% &amp; %N2%) (scalar parameter, U
    Component, V Component) - </strong>Calculates horizontal flux divergence from u and v components.
    <table id="gridformulas3" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>scalar parameter</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Scalar Parameter (the parameter that will be mapped).</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>U Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>V Component</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The v-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Layer Difference (Top of Layer, Bottom of Layer) -</strong> Calculates a layer difference between a field at two different
levels. Note that you must select a 3D field to use this formula.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Top of Layer</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Top layer (default=500)</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Bottom of Layer</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Bottom layer (default=1000)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Layer Wind Shear  (top, bottom) - </strong>Calculates the wind shear between two user-defined layers. Note that you must select 3D fields to use this formula.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>top </em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Top layer (default=500)</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>bottom</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Bottom layer (default=850)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Make flow vectors from directional data (windDir) - </strong>Calculates true wind vectors based off of wind direction data.
  <table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>windDir</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The wind direction field.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Make flow vectors from grid relative u and v data  (u, v) - </strong>Calculates true wind vectors based off of relative u and v data after user inputs the field and desired levels. You can utilize 2D or 3D fields.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>u</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>v</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The v-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Make flow vectors from u and v data  (u, v) - </strong>Creates flow vectors based off of the 2D u and v parameters entered by the user.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>u</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>v</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The v-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Make flow vectors from u, v, and w data  (u, v, w) - </strong>Creates flow vectors based off of the 3D u and v parameters entered by the user. These flow vectors are then scaled based off the user-entered w parameter.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>u</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The u-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>v</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The v-component of the wind.</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>w</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The w-component of the wind (vertical velocity).</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Make slice 2D (slice) - </strong>Creates a 2D slice from a 3D display at a single level.
<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>slice</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The parameter utilized to create the display.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>One value colored by another (Data field, Color field) - </strong>Creates an image of the data chosen in the Data field, and colors the data with the color scheme of the Color field parameter.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Data field</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The parameter that is mapped in the display.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Color field</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The parameter whose color field will be used to plot the parameter selected under Data field.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Rebin Grid (grid, newGrid)* - </strong>Rebins or regrids a grid based on coordinates of newGrid using bilinear interpolation.
  <table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>grid</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The parameter to be displayed.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>newGrid</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>A parameter from a grid whose resolution and coordinates will be used for displaying the original grid.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Resample grid (grid, gridwithNewDomain) - </strong>Displays gridded data on a new domain.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>grid</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The parameter that is mapped in the display.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>gridwithNewDomain</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The parameter whose domain will be used to plot the parameter selected under grid.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Simple time difference in one parameter (Time 1, Time 2) - </strong>Creates an image representing the numerical difference in the value of the chosen parameter between the two time steps selected by the user. Time 1 is the initial time step and Time 2 is the second time step. For example, if you select Time 1 to be 10, and Time 2 to be 0, then the formula will utilize the most recent time, and the 10th most recent time. The difference in the parameter is done by Time 2 - Time 1.
<table id="gridformulas5" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Time 1 </em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>First time (default=1)</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Time 2 </em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Second time (default=0)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Slice at Altitude  (Altitude, Unit) - </strong>Extracts a 2D horizontal slice from a 3D grid at the given altitude and maps an image.
<table id="mapformulas6" cellpadding="0" cellspacing="0" border="1">
   <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
       <td width="140" colspan="1" rowspan="1" valign="top">
           <p><em>altitude </em></p>
        </td>
       <td width="510" colspan="2" rowspan="1" valign="top">
           <p>Altitude to slice.</p>
        </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>unit</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Specify a unit. It must be compatible with meters (ft, fathoms, etc.)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Slice at Level  (Level) - </strong>Extracts a 2D horizontal slice from a 3D grid at a level and maps the image.
<table id="mapformulas7" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>level </em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Level to slice. Must be appropriate for the grid.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Speed from 2 components (x, y) - </strong>Calculates speed from the user-chosen x and y components and displays an image.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>x</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The x-component of the wind.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>y</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The y-component of the wind.</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Vertical Average Weighted (grid)* - </strong>Computes a vertical coordinate weighted average of a 3D grid.</li>
<li class="propertylistitem"><strong>Wind Shear Vectors  (top, bottom) - </strong>Calculates the u and v layer difference and returns a map of vectors.
<table id="mapformulas8" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>top</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Top layer (default=500)</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>bottom</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Bottom layer (default=850)</p>
   </td>
   </tr>
</table></li>
</ul>
<div class="pagesubtitle">3D Scalar Field Horizontal Smoothing<a name="smooth" id="smooth"></a></div>
<ul class="propertylist">
<li class="propertylistitem"><strong>9-point hor. smoothing* -</strong> Returns a smoothed field using 9-point smoothing.</li>
<li class="propertylistitem"><strong>Gaussian hor. smoothing (N)* -</strong> Returns a smoothed field using Gaussian horizontal smoothing at a user-defined factor (N).
<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>N</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Smoothing factor (default=6)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Rectangular hor. smoothing, in grid increments (N)* -</strong> Returns a smoothed field using Rectangular horizontal smoothing at a user-defined factor (N).
  <table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>N</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Smoothing factor (default=2)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>circular hor. smoothing, in grid increments (N)* -</strong> Returns a smoothed field using Circular horizontal smoothing at a user-defined factor (N).
  <table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>N</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Smoothing factor (default=2)</p>
   </td>
   </tr>
</table></li>
	</ul>
<div class="pagesubtitle">Time Steps<a name="time" id="time"></a></div>
<ul class="propertylist">
<li class="propertylistitem"><strong>Accumulate from initial timestep -</strong> Plots the specified parameter in the Main Display window. Each frame is a total of the parameter at the time in addition to the total value of the parameter in previous time steps. The formula to compute this is as follows, where T represents the current time step, and numbers 0, 1, etc. represent the previous time steps:
<table>
   <tr>
   <td width="770" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(0) + D(1) + .. + D(T)</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Average Time steps -</strong> Plots one map representing the average value of the specified parameter at any one point on the map during the time sequence selected.</li>
<li class="propertylistitem"><strong>Difference from initial timestep -</strong> Plots a sequence of images. Each image maps the difference in the numerical value of the parameter from the initial values of the first frame.   This formula sets the value of each time step N as:
<table>
   <tr>
   <td width="770" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(T) - D(0) </p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Max over time steps -</strong> Plots one map representing  the highest value of the specified parameter at any point on the map during the time sequence selected.</li>
<li class="propertylistitem"><strong>Merge time sequences -</strong> Creates a loop of images where while the images will be in order with respect to time, you do not need to load in every time step.</li>
<li class="propertylistitem"><strong>Min over time steps -</strong> Plots one map representing the lowest value of the specified parameter at any one point on the map during the time sequence selected.</li>
<li class="propertylistitem"><strong>Running Average (No. of Steps, End Point Option) -</strong> Generates a running average of your specified parameter and plots the data in the Main Display window.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>No. of steps</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The number of steps to average over.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>End Point Option</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The option for unsmoothed end points. 0 = set to missing; 1 = use symmetry; -1= assume cyclic</p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Time step difference -</strong> Plots a sequence of images. Each frame plots the value of the specified parameter at that time, and subtracts from it the value of the same parameter at the previous time in the loop.
<table>
   <tr>
   <td width="770" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(T) - D(T-1) </p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Time step sum  -</strong> Plots a sequence of images. Each frame plots the value of the specified parameter at that time, and adds to it the value of the same parameter at the previous time step in the loop.
<table>
   <tr>
   <td width="770" colspan="2" rowspan="1" valign="top" nowrap>
   <p>D(T) = D(T) + D(T-1) </p>
   </td>
   </tr>
</table></li>
<li class="propertylistitem"><strong>Total sum over times -</strong> Plots one image with the total value of your selected parameter summed up over your chosen number of time steps.</li>
<li class="propertylistitem"><strong>Weighted running average (Weights, End Point Option) -</strong> Generates an image of the weighted running average of your selected parameter.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Weights</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The weight you wish to give to your running average. Separate multiple values with a comma.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>End Point Option</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The option for unsmoothed end points. 0 = set to missing; 1 = use symmetry; -1= assume cyclic</p>
   </td>
   </tr>
</table></li>
</ul>
<div class="pagesubtitle">Time Mean and Anomaly<a name="timeMeanAnomaly" id="timeMeanAnomaly"></a></div>
<ul class="propertylist">
	<li class="propertylistitem"><strong>Anomaly from Time Means* -</strong> Computes the deviation from time mean for all selected times at each grid point.</li>
	<li class="propertylistitem"><strong>Compute anomaly from daily means* -</strong> Computes the deviation from time mean for each day at each grid point.</li>
	<li class="propertylistitem"><strong>Compute anomaly from monthly means* -</strong> Computes the deviation from time mean for each day at each grid point.</li>
	<li class="propertylistitem"><strong>Compute anomaly from time means at specified time type (meanType)* -</strong> Computes the deviation from the time mean at the user-defined interval at each grid point.
	<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>meanType</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The time mean to use (default=yearly)</p>
   </td>
   </tr>
</table></li>
	<li class="propertylistitem"><strong>Compute anomaly from yearly means* -</strong> Computes the deviation from time mean for each year at each grid point.</li>
	<li class="propertylistitem"><strong>Compute daily means* -</strong> Computes a time mean of a grid for all selected times at each grid point.</li>
	<li class="propertylistitem"><strong>Compute monthly means* -</strong> Computes a time mean of a grid for each day at each grid point.</li>
	<li class="propertylistitem"><strong>Compute time derivative with preferred time unit (timeUnit)* -</strong> Computes a time derivative at a user-defined interval at each grid point.
	<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>timeUnit</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The time unit to use (default=day)</p>
   </td>
   </tr>
</table></li>
	<li class="propertylistitem"><strong>Compute time means at specified time type (meanType)* -</strong> Computes a time mean of a grid at the user-defined interval at each grid point.
	<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>meanType</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The time mean to use (default=yearly)</p>
   </td>
   </tr>
</table></li>
	<li class="propertylistitem"><strong>Compute yearly means* -</strong> Computes a time mean of a grid for each year at each grid point.</li>
	<li class="propertylistitem"><strong>Sample a grid at times specified (year, season, day of month, hour of day, minute of hour, seconds, milliseconds)* -</strong> Samples a grid at specified time periods, multiple arguments can be used in complex sampling. For example, using &quot;hour=5&quot; would return all samples corresponding to time 5. Further, specifying &quot;year=2018&quot; would give samples at time 5 in year 2018.
	  <table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>year</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Year as yyyy (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>season</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Season (default=None)</p>
   Valid values include:
   <ul>
   	<li>DJF - December, January, February</li>
   	<li>JFM - January, February, March</li>
   	<li>MAM - March, April, May</li>
   	<li>JJA - June, July, August</li>
   	<li>SON - September, October, November</li>
   	<li>OND - October, November, December</li>
   	<li>JJAS - June, July, August, September</li>
   </ul>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>month</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Month as MM (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>day of month</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Day of month as dd (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>hour of day</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Hour of day as hh (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>minute of hour</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Minute of hour as mm (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>seconds</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Seconds as ss (default=None)</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>milliseconds</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>Milliseconds as ms (default=None)</p>
   </td>
   </tr>
</table></li>
</ul>
<div class="pagesubtitle">Basic Math<a name="basic" id="basic"></a></div>
<ul class="propertylist">
	<li class="propertylistitem"><strong>Divide Grids* -</strong> Divides two grids.</li>
	<li class="propertylistitem"><strong>Modulo with a number (number)* -</strong> Returns the modulo at every value of the grid with given number.
	<table id="gridformulas1" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>number</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The number to use. There is no default value.</p>
   </td>
   </tr>
</table></li>
	<li class="propertylistitem"><strong>Multiply Grids* -</strong> Multiplies two grids.</li>
	<li class="propertylistitem"><strong>Vertical Derivative* -</strong> Computes the vertical derivative of a 3D parameter at user-specified vertical levels.</li>
</ul>
<div class="pagesubtitle"><a name="ensemble" id="ensemble"></a>Ensemble</div>
<ul class="propertylist">
<li class="propertylistitem"><strong>Ensemble average over all grid members -</strong> Averages the chosen ensemble members over each time step and plots the data.</li>
<li class="propertylistitem"><strong>Ensemble grid highest values -</strong> Takes the highest numerical value of the chosen parameter over the chosen number of ensemble members and plots the data.</li>
<li class="propertylistitem"><strong>Ensemble grid lowest values -</strong> Takes the lowest numerical value of the chosen parameter over the chosen number of ensemble members and plots the data.</li>
<li class="propertylistitem"><strong>Ensemble grid mode values -</strong> Takes the mode value of the chosen parameter over the chosen number of ensemble members and plots the data.</li>
<li class="propertylistitem"><strong>Ensemble grid percentile values -</strong> Plots the ensemble average at the chosen percentage. The higher the percentage, the higher the values plotted in the display will be.</li>
<li class="propertylistitem"><strong>Ensemble grid range of values -</strong> Takes the difference between the upper bound and lower bound of the chosen parameter over the chosen number of grid ensembles and plots the result.</li>
<li class="propertylistitem"><strong>Ensemble grid standard deviation -</strong> Plots the standard deviation of the chosen parameter over the chosen number of ensemble members.</li>
<li class="propertylistitem"><strong>Ensemble grid univariate probability -</strong> Plots the probability that certain  user-provided conditions will be met for the specified parameter.
<table id="gridformulas4" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <td colspan="1"><strong>Input Parameter</strong></td>
   <td width="630"><strong>Definition
   </strong></tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>P(GridVaiable lt|gt a)</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top" nowrap>
   <p>The mathematical operation (less than or greater than) that will operate around value 'a'.</p>
   </td>
   </tr>
   <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>a</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The value used by the operator chosen above.</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>P1 (and|or) P2</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>Determines if you want to display the probability of threshold values 'a' or 'b' to both be used to create</p>
   <p>the display, or if you want one or the other to work.</p></td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>P(GridVariable lt|gt b) (optional)</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The mathematical operation (less than or greater than) that will operate around value 'b'.</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>b (optional)</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The value used by the operator chosen above.</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Expected Lower Bound (optional)</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The expected lower numerical bound of your chosen field.</p>
   </td>
   </tr>
      <tr>
   <td width="140" colspan="1" rowspan="1" valign="top">
   <p><em>Expected Upper Bound (optional)</em></p>
   </td>
   <td width="510" colspan="2" rowspan="1" valign="top">
   <p>The expected upper numerical bound of your chosen field.</p>
   </td>
   </tr>
</table></li>
<ul class="propertylist">
<li class="propertylistitem">Example: P=gt, a=90000, P1=and, P=lt, b=100000, field='Pressure reduced to MSL'. In this example, probabilities will be mapped in the Main Display window for the chosen number of times/ensemble members that the pressure will be greater than 90,000 Pa and that the pressure is less than 100,000 Pa.</li>
</ul>
</ul>
<!-- InstanceEndEditable -->
<div class="BottomTitleNav">
  <hr align="center">
  <p class="style2" style="text-align:left; "> 
  	[<!-- InstanceBeginEditable name="GoToPrevious2" --><a href="MapFormulas.html">Go to Previous</a><!-- InstanceEndEditable -->] 
	<span style="padding-left: 15px; "> 
	[<!-- InstanceBeginEditable name="GoToNext2" --><a href="MiscellaneousFormulas.html">Go to Next</a><!-- InstanceEndEditable -->] 
	</span></p>
</div>
</body>
<!-- InstanceEnd --></html>
